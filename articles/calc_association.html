<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="corVis">
<title>Calculating associations using corVis • corVis</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculating associations using corVis">
<meta property="og:description" content="corVis">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">corVis</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/calc_association.html">Calculating associations using corVis</a>
    <a class="dropdown-item" href="../articles/integrating_corVis.html">Integrating corVis with other packages</a>
    <a class="dropdown-item" href="../articles/scagnostic_corVis.html">Exploring pairwise associations with scagnostics and corVis</a>
    <a class="dropdown-item" href="../articles/seriation.html">Seriation in corVis</a>
    <a class="dropdown-item" href="../articles/vis_association.html">Visualising associations using corVis</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="calc_association_files/kePrint-0.0.1/kePrint.js"></script><link href="calc_association_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Calculating associations using corVis</h1>
                        <h4 data-toc-skip class="author">Amit Chinwan
and Catherine Hurley</h4>
            
            <h4 data-toc-skip class="date">2023-03-16</h4>
      
      
      <div class="d-none name"><code>calc_association.Rmd</code></div>
    </div>

    
    
<p>corVis is an R package which calculates measures of association for
every variable pair in a dataset and helps in visualising these
associations in different ways. The package can also calculate and
visualise the pairwise association measures conditionally at different
levels of a grouping variable. This vignette gives an overview of how
these association measures are calculated in the package. Different
methods to visualise these calculated measures are provided in the
accompanying vignette.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"palmerpenguins"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"palmerpenguins"</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://chinwan16.github.io/corVis/">corVis</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://allisonhorst.github.io/palmerpenguins/" class="external-link">palmerpenguins</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="measures-of-association">Measures of Association<a class="anchor" aria-label="anchor" href="#measures-of-association"></a>
</h2>
<p>An association measure can be defined as a numerical summary
quantifying relationship between two or more variables. For example,
Pearson’s correlation coefficient summarizes the strength and direction
of the linear relationship present between two <em>numeric</em>
variables and is in the range <span class="math inline">\([-1,1]\)</span>. Similarly, distance correlation
coefficient measures the non-linear association between two
<em>numeric</em> variables and summarizes it in <span class="math inline">\([0,1]\)</span> where <span class="math inline">\(0\)</span> suggests no non-linear relationship and
<span class="math inline">\(1\)</span> suggests very high non-linear
relationship.</p>
The package provides a collection of various measures of association
which can be used to quantify the relationship between two variables and
could be used to explore patterns prior to modeling. The measures
available in the package are not limited to <em>numeric</em> variables
only and can be used with <em>categorical</em> and <em>ordinal</em>
variables as well. Table 1 lists the different measures of association
provided in the package with the variable types they can be used with,
the package used for calculation, the information on whether the measure
is symmetric, and the minimum and maximum value of the measure.
<table class="table table" style="margin-left: auto; margin-right: auto;">
<caption>
List of the functions available in the package for calculating different
association measures along with the packages used for calculation.
</caption>
<thead><tr>
<th style="text-align:left;">
name
</th>
<th style="text-align:left;">
nn
</th>
<th style="text-align:left;">
ff
</th>
<th style="text-align:left;">
oo
</th>
<th style="text-align:left;">
nf
</th>
<th style="text-align:left;">
from
</th>
<th style="text-align:left;">
range
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
tbl_cor
</td>
<td style="text-align:left;">
y
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
stats::cor
</td>
<td style="text-align:left;">
[-1,1]
</td>
</tr>
<tr>
<td style="text-align:left;">
tbl_dcor
</td>
<td style="text-align:left;">
y
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
energy::dcor2d
</td>
<td style="text-align:left;">
[0,1]
</td>
</tr>
<tr>
<td style="text-align:left;">
tbl_mine
</td>
<td style="text-align:left;">
y
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
minerva::mine
</td>
<td style="text-align:left;">
[0,1]
</td>
</tr>
<tr>
<td style="text-align:left;">
tbl_ace
</td>
<td style="text-align:left;">
y
</td>
<td style="text-align:left;">
y
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
y
</td>
<td style="text-align:left;">
corVis
</td>
<td style="text-align:left;">
[0,1]
</td>
</tr>
<tr>
<td style="text-align:left;">
tbl_cancor
</td>
<td style="text-align:left;">
y
</td>
<td style="text-align:left;">
y
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
y
</td>
<td style="text-align:left;">
corVis
</td>
<td style="text-align:left;">
[0,1]
</td>
</tr>
<tr>
<td style="text-align:left;">
tbl_nmi
</td>
<td style="text-align:left;">
y
</td>
<td style="text-align:left;">
y
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
y
</td>
<td style="text-align:left;">
linkspotter::maxNMI
</td>
<td style="text-align:left;">
[0,1]
</td>
</tr>
<tr>
<td style="text-align:left;">
tbl_polycor
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
y
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
polycor::polychor
</td>
<td style="text-align:left;">
[-1,1]
</td>
</tr>
<tr>
<td style="text-align:left;">
tbl_tau
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
y
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
DescTools::KendalTauA,B,C,W
</td>
<td style="text-align:left;">
[-1,1]
</td>
</tr>
<tr>
<td style="text-align:left;">
tbl_gkGamma
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
y
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
DescTools::GoodmanKruskalGamma
</td>
<td style="text-align:left;">
[-1,1]
</td>
</tr>
<tr>
<td style="text-align:left;">
tbl_gkTau
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
y
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
DescTools::GoodmanKruskalTau
</td>
<td style="text-align:left;">
[0,1]
</td>
</tr>
<tr>
<td style="text-align:left;">
tbl_uncertainty
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
y
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
DescTools::UncertCoef
</td>
<td style="text-align:left;">
[0,1]
</td>
</tr>
<tr>
<td style="text-align:left;">
tbl_chi
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
y
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
DescTools::ContCoef
</td>
<td style="text-align:left;">
[0,1]
</td>
</tr>
</tbody>
</table>
<p>Table 1: Table of Association methods</p>
</div>
<div class="section level2">
<h2 id="calculating-association-measures">Calculating association measures<a class="anchor" aria-label="anchor" href="#calculating-association-measures"></a>
</h2>
<p>We introduce a method which creates a tibble structure for the
variable pairs in a dataset along with calculated association measure.
The package contains various functions (shown in Table 1) for different
association measures in the form <code>tbl_*</code> to calculate them.
For example, a user might be interested in calculating distance
correlation for numeric pair of variables in a dataset. This can be done
by using <code>tbl_dcor</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">penguins</span></span>
<span><span class="va">distance</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tbl_dcor.html">tbl_dcor</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">distance</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Rows: 10</span></span>
<span><span class="co">## Columns: 5</span></span>
<span><span class="co">## $ x            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "bill_depth_mm", "flipper_length_mm", "body_mass_g", "yea…</span></span>
<span><span class="co">## $ y            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "bill_length_mm", "bill_length_mm", "bill_length_mm", "bi…</span></span>
<span><span class="co">## $ measure      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0.38720211, 0.66645577, 0.58713186, 0.07842516, 0.7039636…</span></span>
<span><span class="co">## $ measure_type <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "dcor", "dcor", "dcor", "dcor", "dcor", "dcor", "dcor", "…</span></span>
<span><span class="co">## $ pair_type    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "nn", "nn", "nn", "nn", "nn", "nn", "nn", "nn", "nn", "nn"</span></span></code></pre>
<p>Similarly, one can use <code>tbl_nmi</code> to calculate normalised
mutual information for numeric, nominal and mixed pair of variables.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nmi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tbl_nmi.html">tbl_nmi</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">nmi</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Rows: 28</span></span>
<span><span class="co">## Columns: 5</span></span>
<span><span class="co">## $ x            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "island", "bill_length_mm", "bill_depth_mm", "flipper_len…</span></span>
<span><span class="co">## $ y            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "species", "species", "species", "species", "species", "s…</span></span>
<span><span class="co">## $ measure      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0.4734674612, 0.6438435537, 0.4932454125, 0.5844270322, 0…</span></span>
<span><span class="co">## $ measure_type <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "nmi", "nmi", "nmi", "nmi", "nmi", "nmi", "nmi", "nmi", "…</span></span>
<span><span class="co">## $ pair_type    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "ff", "nf", "nf", "nf", "nf", "ff", "nf", "nf", "nf", "nf…</span></span></code></pre>
<p>These functions return a tibble with the variable pairs and
calculated measure, and also with additional classes <em>pairwise</em>
and <em>data.frame</em>. With the pairwise measures of association in a
tibble or dataframe structure, the output of these functions can then be
used with packages like <em>dplyr</em> , <em>ggplot2</em> for further
exploration of association measures.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">distance</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "pairwise"   "tbl_df"     "tbl"        "data.frame"</span></span></code></pre>
<p>In some applications, a matrix structure for a measure is more useful
than dataframe or tibble. The function <code>matrix_assoc</code> helps
in converting the tibble of association measure to matrix structure. The
function takes a tibble or dataframe of the variable pairs of the
dataset along with the calculated association measures and returns a
symmetric matrix of the variables.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="../reference/matrix_assoc.html">matrix_assoc</a></span><span class="op">(</span><span class="va">distance</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                   bill_length_mm bill_depth_mm flipper_length_mm body_mass_g</span></span>
<span><span class="co">## bill_length_mm                NA     0.3872021         0.6664558   0.5871319</span></span>
<span><span class="co">## bill_depth_mm         0.38720211            NA         0.7039636   0.6141631</span></span>
<span><span class="co">## flipper_length_mm     0.66645577     0.7039636                NA   0.8674122</span></span>
<span><span class="co">## body_mass_g           0.58713186     0.6141631         0.8674122          NA</span></span>
<span><span class="co">## year                  0.07842516     0.1117057         0.1643876   0.0790560</span></span>
<span><span class="co">##                         year</span></span>
<span><span class="co">## bill_length_mm    0.07842516</span></span>
<span><span class="co">## bill_depth_mm     0.11170568</span></span>
<span><span class="co">## flipper_length_mm 0.16438763</span></span>
<span><span class="co">## body_mass_g       0.07905600</span></span>
<span><span class="co">## year                      NA</span></span></code></pre>
<p>The function has an additional argument called <em>group</em> which
represents the level of the grouping categorical variable for which the
matrix output needs to be calculated and is set to <em>overall</em> as
default.</p>
</div>
<div class="section level2">
<h2 id="calculating-association-measures-for-whole-dataset">Calculating association measures for whole dataset<a class="anchor" aria-label="anchor" href="#calculating-association-measures-for-whole-dataset"></a>
</h2>
<p><code>calc_assoc</code> can be used to calculate association measures
for all the variable pairs in the dataset at once in a tibble structure.
In addition to tibble structure, the output also has <em>pairwise</em>
and <em>data.frame</em> class which are important class attributes for
producing visual summaries in this package.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">complete_assoc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_assoc.html">calc_assoc</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">complete_assoc</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Rows: 28</span></span>
<span><span class="co">## Columns: 5</span></span>
<span><span class="co">## $ x            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "island", "bill_length_mm", "bill_depth_mm", "flipper_len…</span></span>
<span><span class="co">## $ y            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "species", "species", "species", "species", "species", "s…</span></span>
<span><span class="co">## $ measure      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0.81328762, 0.84131393, 0.82447508, 0.88217284, 0.8183348…</span></span>
<span><span class="co">## $ measure_type <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "cancor", "cancor", "cancor", "cancor", "cancor", "cancor…</span></span>
<span><span class="co">## $ pair_type    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "ff", "nf", "nf", "nf", "nf", "ff", "nf", "nf", "nf", "nf…</span></span></code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">complete_assoc</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "pairwise"   "tbl_df"     "tbl"        "data.frame"</span></span></code></pre>
<p>The function has a <em>types</em> argument which is basically a
tibble of the association measure to be calculated for different
variable pairs. The default tibble of measures is
<code><a href="../reference/default_assoc.html">default_assoc()</a></code> which calculates Pearson’s correlation if
both the variables are numeric, Kendall’s tau-b if both the variables
are ordinal, canonical correlation if one is factor and other is numeric
and canonical correlation for the rest of the variable pairs.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">default_measures</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/update_assoc.html">update_assoc</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">default_measures</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 4 × 4</span></span></span>
<span><span class="co">##   funName     typeX   typeY   argList</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> tbl_cor     numeric numeric <span style="color: #949494;">&lt;NULL&gt;</span> </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> tbl_gkGamma ordered ordered <span style="color: #949494;">&lt;NULL&gt;</span> </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> tbl_cancor  factor  factor  <span style="color: #949494;">&lt;NULL&gt;</span> </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> tbl_cancor  factor  numeric <span style="color: #949494;">&lt;NULL&gt;</span></span></span></code></pre>
<p>An analyst can update these measures using the
<code>update_assoc</code> function where one can specify a
<code>tbl_*</code> function to calculate association measure depending
on the variable pair in the dataset and a method if it calculates more
than one measure.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">updated_assoc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/update_assoc.html">update_assoc</a></span><span class="op">(</span>num_pair <span class="op">=</span> <span class="st">"tbl_cor"</span>,</span>
<span>                              num_pair_argList <span class="op">=</span> <span class="st">"spearman"</span>,</span>
<span>                              mixed_pair <span class="op">=</span> <span class="st">"tbl_cancor"</span>,</span>
<span>                              other_pair <span class="op">=</span> <span class="st">"tbl_nmi"</span><span class="op">)</span></span>
<span><span class="va">updated_assoc</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 4 × 4</span></span></span>
<span><span class="co">##   funName     typeX   typeY   argList  </span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> tbl_cor     numeric numeric <span style="color: #949494;">&lt;chr [1]&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> tbl_gkGamma ordered ordered <span style="color: #949494;">&lt;NULL&gt;</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> tbl_cancor  factor  factor  <span style="color: #949494;">&lt;NULL&gt;</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> tbl_cancor  factor  numeric <span style="color: #949494;">&lt;NULL&gt;</span></span></span></code></pre>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">updated_complete_assoc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_assoc.html">calc_assoc</a></span><span class="op">(</span><span class="va">df</span>, types <span class="op">=</span> <span class="va">updated_assoc</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">updated_complete_assoc</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Rows: 28</span></span>
<span><span class="co">## Columns: 5</span></span>
<span><span class="co">## $ x            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "island", "bill_length_mm", "bill_depth_mm", "flipper_len…</span></span>
<span><span class="co">## $ y            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "species", "species", "species", "species", "species", "s…</span></span>
<span><span class="co">## $ measure      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0.81328762, 0.84131393, 0.82447508, 0.88217284, 0.8183348…</span></span>
<span><span class="co">## $ measure_type <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "cancor", "cancor", "cancor", "cancor", "cancor", "cancor…</span></span>
<span><span class="co">## $ pair_type    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "ff", "nf", "nf", "nf", "nf", "ff", "nf", "nf", "nf", "nf…</span></span></code></pre>
<p>The tibble output for <code>calc_assoc</code> has the following
structure:</p>
<ul>
<li>
<code>x</code> and <code>y</code> representing a pair of
variables</li>
<li>
<code>measure</code> representing the calculated value for
association measure</li>
<li>
<code>measure_type</code> representing the association measure
calculated for <code>x</code> and <code>y</code> pair.</li>
</ul>
<p>The variable pairs in the output are unique pairs and a subset of all
the variable pairs of a dataset where <code>x</code> <span class="math inline">\(\neq\)</span> <code>y</code>. As explained
earlier, the <code>measure_type</code> represents the association
measure calculated for a specific type of variable pair. A user can be
interested in calculating multiple association measures for a type of
variable pair. This can be done by using the <code>calc_assoc</code> and
<code>update_assoc</code> together for calculating different association
measures and then merging the output tibbles.</p>
</div>
<div class="section level2">
<h2 id="calculating-conditional-association">Calculating conditional association<a class="anchor" aria-label="anchor" href="#calculating-conditional-association"></a>
</h2>
<p><code>calc_assoc</code> can also be used to calculate association
measures for all the variable pairs at different levels of a categorical
variable. This can help in exploring the conditional associations and
find out interesting patterns in the data prior to modeling. The output
of this function is a data structure with <em>cond_pairwise</em>,
<em>data.frame</em>, <em>tibble</em> as class attributes. The
<code>by</code> argument is used for the grouping variable which needs
to be categorical.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">complete_assoc_by</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_assoc.html">calc_assoc</a></span><span class="op">(</span><span class="va">df</span>,by <span class="op">=</span> <span class="st">"sex"</span><span class="op">)</span></span></code></pre></div>
<p>The function also has a <code>types</code> argument which can be
updated similarly to <code>calc_assoc</code>.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">updated_assoc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/update_assoc.html">update_assoc</a></span><span class="op">(</span>num_pair <span class="op">=</span> <span class="st">"tbl_cor"</span>,</span>
<span>                              num_pair_argList <span class="op">=</span> <span class="st">"spearman"</span>,</span>
<span>                              mixed_pair <span class="op">=</span> <span class="st">"tbl_cancor"</span>,</span>
<span>                              other_pair <span class="op">=</span> <span class="st">"tbl_nmi"</span><span class="op">)</span></span>
<span><span class="va">updated_complete_assoc_by</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_assoc.html">calc_assoc</a></span><span class="op">(</span><span class="va">df</span>,by <span class="op">=</span> <span class="st">"sex"</span>, types <span class="op">=</span> <span class="va">updated_assoc</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">updated_complete_assoc_by</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Rows: 84</span></span>
<span><span class="co">## Columns: 6</span></span>
<span><span class="co">## $ x            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "island", "bill_length_mm", "bill_depth_mm", "flipper_len…</span></span>
<span><span class="co">## $ y            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "species", "species", "species", "species", "species", "s…</span></span>
<span><span class="co">## $ measure      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0.80923103, 0.88495341, 0.89966135, 0.91412697, 0.9106057…</span></span>
<span><span class="co">## $ measure_type <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "cancor", "cancor", "cancor", "cancor", "cancor", "cancor…</span></span>
<span><span class="co">## $ by           <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> female, female, female, female, female, female, female, f…</span></span>
<span><span class="co">## $ pair_type    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "ff", "nf", "nf", "nf", "nf", "nf", "nf", "nf", "nf", "nf…</span></span></code></pre>
<p>By default, the function calculates the association measures for all
the variable pairs at different levels of the grouping variable and the
pairwise association measures for the ungrouped data (<em>overall</em>).
This behavior can be changed by setting <code>include.overall</code> to
<em>FALSE</em>.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">complete_assoc_by</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_assoc.html">calc_assoc</a></span><span class="op">(</span><span class="va">df</span>,by <span class="op">=</span> <span class="st">"sex"</span>,include.overall <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>The variable pairs in the output are repeated for every level of
<code>by</code> variable.</p>
</div>
<div class="section level2">
<h2 id="calculating-mutliple-association-measures">Calculating mutliple association measures<a class="anchor" aria-label="anchor" href="#calculating-mutliple-association-measures"></a>
</h2>
<p>We calculate multiple assocaition measures with
<code>calc_assoc_all</code> function in the package. The function takes
a dataset and a list of measures as input and outputs a tibble structure
with multiple measures of association for every variable pair. The
output data structure has class attribute <em>multi_pairwise</em> which
is used for producing multiple measures display. It also has additional
class attributes such as <em>data.frame</em> or <em>tibble</em> which
are useful for leveraging tools in <em>dplyr</em> or
<em>ggplot2</em>.</p>
<p>This output is used by the plotting functions to produce multiple
measures display in different layout. The code section below calculates
<code>pearson</code>, <code>dcor</code> and <code>ace</code> measures
for the variable pairs in penguins data. The pairs for which a measure
is not defined is not included in the result.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">penguin_assoc_multi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_assoc_all.html">calc_assoc_all</a></span><span class="op">(</span>d <span class="op">=</span> <span class="va">df</span>,</span>
<span>                                   measures <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pearson"</span>,</span>
<span>                                                <span class="st">"dcor"</span>,</span>
<span>                                                <span class="st">"ace"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">penguin_assoc_multi</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 48 × 5</span></span></span>
<span><span class="co">##    x                 y                 measure measure_type pair_type</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> bill_depth_mm     bill_length_mm    -<span style="color: #BB0000;">0.235</span>  pearson      nn       </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> flipper_length_mm bill_length_mm     0.656  pearson      nn       </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> body_mass_g       bill_length_mm     0.595  pearson      nn       </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> year              bill_length_mm     0.054<span style="text-decoration: underline;">5</span> pearson      nn       </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> flipper_length_mm bill_depth_mm     -<span style="color: #BB0000;">0.584</span>  pearson      nn       </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> body_mass_g       bill_depth_mm     -<span style="color: #BB0000;">0.472</span>  pearson      nn       </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> year              bill_depth_mm     -<span style="color: #BB0000;">0.060</span><span style="color: #BB0000; text-decoration: underline;">4</span> pearson      nn       </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> body_mass_g       flipper_length_mm  0.871  pearson      nn       </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> year              flipper_length_mm  0.170  pearson      nn       </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> year              body_mass_g        0.042<span style="text-decoration: underline;">2</span> pearson      nn       </span></span>
<span><span class="co">## <span style="color: #949494;"># … with 38 more rows</span></span></span></code></pre>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Amit Chinwan, Catherine Hurley.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
